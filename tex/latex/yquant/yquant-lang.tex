% BEGIN_FOLD Attributes
\yquant@langhelper@declare@attr{%
   value/.store in=\yquant@lang@attr@value,%
   after/.code={%
      \yquant@register@get@ids{#1}%
      \let\yquant@lang@attr@after=\yquant@register@get@ids@list%
   },%
   type/.store in=\yquant@lang@attr@type,%
   ancilla/.code={%
      \undef\yquant@lang@attr@input%
      \undef\yquant@lang@attr@output%
   },%
   in/.code={%
      \let\yquant@lang@attr@input=\relax%
      \undef\yquant@lang@attr@output%
   },%
   in/.default=\regidx,%
   out/.code={%
      \undef\yquant@lang@attr@input%
      \let\yquant@lang@attr@output=\relax%
   },%
   out/.default=\regidx,%
   inout/.code={%
      \let\yquant@lang@attr@input=\relax%
      \let\yquant@lang@attr@output=\relax%
   }%
   inout/.default=\regidx,%
   frameless/.code={%
      \pgfkeysalso{/yquant/operators/subcircuit/frameless}%
      \appto\yquant@attrs@remaining{,/yquant/operators/subcircuit/frameless}%
   },%
   seamless/.code={%
      \pgfkeysalso{/yquant/operators/subcircuit/seamless}%
      \appto\yquant@attrs@remaining{,/yquant/operators/subcircuit/seamless}%
   }%
}
\yquant@langhelper@declare@attr@global{%
   name/.store in=\yquant@lang@attr@name,%
   overlay/.code={%
      \ifstrequal{#1}{true}{%
         \yquant@lang@attr@overlay@multitrue%
         \yquant@lang@attr@overlay@heighttrue%
         \yquant@lang@attr@overlay@depthtrue%
      }{%
         \ifstrequal{#1}{false}{%
            % Why??? This is the default and should always be reset automatically!
            \yquant@lang@attr@overlay@multifalse%
            \yquant@lang@attr@overlay@heightfalse%
            \yquant@lang@attr@overlay@depthfalse%
         }{%
            \pgfqkeys{/yquant/global attrs/overlay}{#1}%
         }%
      }%
   },%
   overlay/.default=true,%
   overlay/multi/.is if=yquant@lang@attr@overlay@multi,%
   overlay/m/.forward to=/yquant/global attrs/overlay/multi,%
   overlay/height/.is if=yquant@lang@attr@overlay@height,%
   overlay/ht/.forward to=/yquant/global attrs/overlay/height,%
   overlay/h/.forward to=/yquant/global attrs/overlay/height,%
   overlay/depth/.is if=yquant@lang@attr@overlay@depth,%
   overlay/dp/.forward to=/yquant/global attrs/overlay/depth,%
   overlay/d/.forward to=/yquant/global attrs/overlay/depth,%
   overlay/single/.code={\pgfkeysalso{%
      /yquant/global attrs/overlay/height={#1},%
      /yquant/global attrs/overlay/depth={#1}%
   }},%
   overlay/single/.default=true,%
   overlay/s/.forward to=/yquant/global attrs/overlay/single,%
}
\newif\ifyquant@lang@attr@overlay@multi%
\newif\ifyquant@lang@attr@overlay@height%
\newif\ifyquant@lang@attr@overlay@depth%

\protected\def\yquant@lang@reset@attrs{%
   \undef\yquant@lang@attr@value%
   \undef\yquant@lang@attr@after%
   \undef\yquant@lang@attr@type%
   \yquant@lang@reset@attrs@inputoutput%
   \let\yquant@lang@attr@name=\empty%
   \yquant@lang@attr@overlay@multifalse%
   \yquant@lang@attr@overlay@heightfalse%
   \yquant@lang@attr@overlay@depthfalse%
}

\protected\def\yquant@lang@reset@attrs@inputoutput{%
   \undef\yquant@lang@attr@input%
   \undef\yquant@lang@attr@output%
}

\protected\def\yquant@lang@reset@attrs@inputoutput@subcircuit{%
   \let\yquant@lang@attr@input=\relax%
   \let\yquant@lang@attr@output=\relax%
}
% END_FOLD

% BEGIN_FOLD Declaration of registers
\yquant@langhelper@declare@command@uncontrolled{nobit}\yquant@lang@@nobit
\yquant@langhelper@setup@attrs{nobit}{}{ancilla,out}
\def\yquant@lang@@nobit#1{%
   \let\yquant@lang@create@type=\yquant@register@type@none%
   \def\yquant@lang@create@style{initial}% there is no separate style, just duplicate
   \ifdefined\yquant@lang@attr@value%
      \PackageError{yquant.sty}{Placeholder initialization must not have value}%
                   {You must not provide a description for an invisible register.}
   \else%
      \let\yquant@lang@attr@value=\empty%
   \fi%
   \yquant@lang@create@parse@name#1[;%
}

\yquant@langhelper@declare@command@uncontrolled{qubit}\yquant@lang@@qubit
\yquant@langhelper@setup@attrs{qubit}{}{after,value,ancilla,in,out,inout}
\def\yquant@lang@@qubit#1{%
   \let\yquant@lang@create@type=\yquant@register@type@q%
   \def\yquant@lang@create@style{qubit}%
   \unless\ifdefined\yquant@lang@attr@value%
      \let\yquant@lang@attr@value=\yquant@config@register@default@name%
   \fi%
   \yquant@lang@create@parse@name#1[;%
}

\yquant@langhelper@declare@command@uncontrolled{cbit}\yquant@lang@@cbit
\yquant@langhelper@setup@attrs{cbit}{}{after,value,ancilla,in,out,inout}
\def\yquant@lang@@cbit#1{%
   \let\yquant@lang@create@type=\yquant@register@type@c%
   \def\yquant@lang@create@style{cbit}%
   \unless\ifdefined\yquant@lang@attr@value%
      \let\yquant@lang@attr@value=\yquant@config@register@default@name%
   \fi%
   \yquant@lang@create@parse@name#1[;%
}

\yquant@langhelper@declare@command@uncontrolled{qubits}\yquant@lang@@qubits
\yquant@langhelper@setup@attrs{qubits}{}{after,value,ancilla,in,out,inout}
\def\yquant@lang@@qubits#1{%
   \let\yquant@lang@create@type=\yquant@register@type@qs%
   \def\yquant@lang@create@style{qubits}%
   \unless\ifdefined\yquant@lang@attr@value%
      \let\yquant@lang@attr@value=\yquant@config@register@default@name%
   \fi%
   \yquant@lang@create@parse@name#1[;%
}

\def\yquant@lang@create@parse@name#1[#2;{%
   \ifstrempty{#2}{%
      \yquant@lang@create@do#1[1][;%
   }{%
      \yquant@lang@create@do#1[#2;%
   }%
}

\protected\def\yquant@lang@create@do#1[#2]#3[;{%
   % parse length
   \ifstrempty{#3}{%
      \yquant@langhelper@validate\len\count{#2}%
      \ifnum\len<1 %
         \PackageError{yquant.sty}{Invalid register length}%
                      {Valid register lengths are integers greater or equal to one.}%
      \fi%
   }{%
      \PackageError{yquant.sty}{Invalid register name}%
         {Register names must not contain `[' apart from register length indication.}%
   }%
   \edef\reg{\trim@spaces{#1}}%
   % we allow for scattering, so check whether the register already exists
   \ifcsname\yquant@prefix registerhigh@\reg\endcsname%
      \ifyquant@firsttoken+{#2}{%
         \numdef\idx{\csname\yquant@prefix registerhigh@\reg\endcsname+1}%
         \numdef\len{\len+\idx}%
      }{%
         \PackageError{yquant.sty}{Duplicate registers}%
            {Register `\reg' was already defined. Use `\reg[+#2]' with explicit plus symbol to indicate that you want to enlarge the register on purpose.}%
      }%
   \else%
      \def\idx{0}%
   \fi%
   % define text macros
   \ifnum\len=1 %
      \let\regidx=\reg%
   \else%
      \def\regidx{\reg[\idx]}%
   \fi%
   % determine x position
   \ifdefined\yquant@lang@attr@after%
      \yquant@register@get@maxxlist\yquant@lang@create@x\yquant@lang@attr@after%
      \ifdefined\yquant@lang@attr@input%
         \PackageError{yquant.sty}{An input register cannot be created with `after` attribute}{}%
      \fi%
   \else%
      \def\yquant@lang@create@x{0pt}%
   \fi%
   \begingroup%
      % pre-set y position
      \yquant@for \idx := \idx to \numexpr \len -1\relax {%
         \edef\tmp{%
            \yquant@prepare@create{\reg}{\idx}%
               {\yquant@lang@create@type}{\yquant@lang@create@x}%
         }%
         \tmp%
      }%
      \unless\ifx\yquant@lang@attr@name\empty%
         \ifnum\len=1 %
            \csxappto{\yquant@prefix draw}%
                     {\yquant@draw@alias{\yquant@lang@attr@name}}%
         \fi%
      \fi%
   \endgroup%
}
% END_FOLD

% BEGIN_FOLD Define own gates
\def\yquantdefinegate#1{%
   \ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Gate redefined}%
                   {The gate `#1' already exists. Use \string\yquantredefinegate\space if you really want to redefine it.}%
   \fi%
   \@ifnextchar[{\yquantdefinegate@i{#1}}%
                {\yquantdefinegate@i{#1}[/yquant/operators/every custom gate]}%
}

% while this command is provided to redefine gates, we do not clear the attributes that were once assigned to the previous one, so gate redefinition is discouraged!
\def\yquantredefinegate#1{%
   \unless\ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Unknown gate redefined}%
                   {The gate `#1' is unknown and cannot be redefined. Use \string\yquantdefinegate\space to define it.}%
   \fi%
   \@ifnextchar[{\yquantdefinegate@i{#1}}%
                {\yquantdefinegate@i{#1}[/yquant/operators/every custom gate]}%
}

\protected\long\def\yquantdefinegate@i#1[#2]#3{%
   \pgfkeys{/yquant/operators/every #1/.style={#2}}%
   \protected@edef\yquantdefinegate@do{%
      \yquant@langhelper@declare@command%
         {#1}%
         \expandafter\noexpand\csname yquant@lang@@#1\endcsname%
      % This does not clear the attributes for redefines, but makes at least sure nothing is marked as required that should not be.
      \yquant@langhelper@setup@attrs{#1}{}{}%
      % Now define the gate's content as a macro
      \def\expandafter\noexpand\csname yquant@lang@@@#1\endcsname{%
         #3%
      }%
      % And provide the implementation
      \protected\def\expandafter\noexpand\csname yquant@lang@@#1\endcsname####1####2####3{%
         \yquant@register@get@multiaslist%
         \yquant@circuit@operator{####1}{####2}{####3}%
         \let\noexpand\yquant@lang@attr@value=\expandafter\noexpand\csname yquant@lang@@@#1\endcsname%
         \yquant@prepare@subcircuit{/yquant/operators/every #1}%
      }%
   }%
   \yquantdefinegate@do%
}

\def\yquantdefinebox#1{%
   \ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Gate redefined}%
                   {The gate `#1' already exists. Use \string\yquantredefinebox\space if you really want to redefine it.}%
   \fi%
   \yquantdefinebox@{#1}{}%
}

\def\yquantdefinemultibox#1{%
   \ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Gate redefined}%
                   {The gate `#1' already exists. Use \string\yquantredefinemultibox\space if you really want to redefine it.}%
   \fi%
   \yquantdefinebox@{#1}\yquant@register@get@allowmultitrue%
}

\def\yquantredefinebox#1{%
   \unless\ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Unknown gate redefined}%
                   {The gate `#1' is unknown and cannot be redefined. Use \string\yquantdefinebox\space to define it.}%
   \fi%
   \yquantdefinebox@{#1}{}%
}

\def\yquantredefinemultibox#1{%
   \unless\ifcsname yquant@lang@#1\endcsname%
      \PackageError{yquant.sty}{Unknown gate redefined}%
                   {The gate `#1' is unknown and cannot be redefined. Use \string\yquantdefinemultibox\space to define it.}%
   \fi%
   \yquantdefinebox@{#1}\yquant@register@get@allowmultitrue%
}

\def\yquantdefinebox@#1#2{%
   \@ifnextchar[{\yquantdefinebox@i{#1}{#2}}%
                {\yquantdefinebox@i{#1}{#2}[/yquant/operators/every box]}%
}

\protected\long\def\yquantdefinebox@i#1#2[#3]#4{%
   \pgfkeys{/yquant/operators/every #1/.style={#3}}%
   \protected@edef\yquantdefinebox@do{%
      \yquant@langhelper@declare@command%
         {#1}%
         \expandafter\noexpand\csname yquant@lang@@#1\endcsname%
      \yquant@langhelper@setup@attrs{#1}{}{}%
      \def\expandafter\noexpand\csname yquant@lang@@#1\endcsname{%
         \unexpanded{#2}%
         \yquant@prepare%
            {#4}%
            {/yquant/operators/every #1}%
      }%
   }%
   \yquantdefinebox@do%
}
% END_FOLD

% BEGIN_FOLD Box registers
% all-purpose box with arbitrary text
\yquant@langhelper@declare@command{box}\yquant@lang@@box
\yquant@langhelper@setup@attrs{box}{value}{}
\def\yquant@lang@@box{%
   \yquant@register@get@allowmultitrue%
   \expandafter\yquant@prepare%
      \expandafter{\yquant@lang@attr@value}%
      {/yquant/operators/every box}%
}

% Hadamard
\yquantdefinebox{h}{$H$}

% Pauli X (or NOT)
\yquantdefinebox{x}[/yquant/operators/every pauli]{$X$}

% Pauli Y
\yquantdefinebox{y}[/yquant/operators/every pauli]{$Y$}

% Pauli Z
\yquantdefinebox{z}[/yquant/operators/every pauli]{$Z$}

% sub-circuit: This is a nested circuit.
\yquant@langhelper@declare@command{subcircuit}\yquant@lang@@subcircuit
\yquant@langhelper@setup@attrs{subcircuit}{value}{frameless,seamless}
\protected\def\yquant@lang@@subcircuit#1#2#3{%
   \yquant@register@get@multiaslist%
   \yquant@circuit@operator{#1}{#2}{#3}%
   \yquant@prepare@subcircuit{/yquant/operators/every subcircuit}%
}
% END_FOLD

% BEGIN_FOLD other geometric shapes
% phase
\yquant@langhelper@declare@command{phase}\yquant@lang@@phase
\yquant@langhelper@setup@attrs{phase}{value}{}%
\def\yquant@lang@@phase{%
   \edef\cmd{%
      \noexpand\yquant@prepare%
         {}%
         {/yquant/operators/every phase, label={\unexpanded\expandafter{\yquant@lang@attr@value}}}%
   }%
   \cmd%
}

% two-qubit controlled x (symmetric notation)
\yquant@langhelper@declare@command{xx}\yquant@lang@@xx
\yquant@langhelper@setup@attrs{xx}{}{}
\def\yquant@lang@@xx{%
   \yquant@register@get@multiassingle%
   \yquant@prepare%
      {}%
      {/yquant/operators/every xx}%
}

% two-qubit controlled phase (symmetric notation)
\yquant@langhelper@declare@command@uncontrolled{zz}\yquant@lang@@zz
\yquant@langhelper@setup@attrs{zz}{}{}
\def\yquant@lang@@zz{%
   \yquant@register@get@multiassingle%
   \yquant@prepare%
      {}%
      {/yquant/operators/every zz}%
      {}{}%
}

% slash (pseudo-operator, alternative indication for a bundle)
\yquant@langhelper@declare@command@uncontrolled{slash}\yquant@lang@@slash
\yquant@langhelper@setup@attrs{slash}{}{}
\protected\def\yquant@lang@@slash#1{%
   % temporarily squeeze most into the separation
   \pgfkeys{%
      /yquant/operator/minimum width=0pt,%
   }%
   \preto\yquant@attrs@remaining{internal/squeeze slash,}%
   \yquant@prepare%
      {}%
      {/yquant/operators/every slash}%
      {}{}{#1}%
}

% swap
\yquant@langhelper@declare@command{swap}\yquant@lang@@swap
\yquant@langhelper@setup@attrs{swap}{}{}
\def\yquant@lang@@swap{%
   \yquant@register@get@multiassingle%
   \yquant@prepare%
      {}%
      {/yquant/operators/every swap}%
}

% not
\yquant@langhelper@declare@command{not}\yquant@lang@@not
\yquant@langhelper@setup@attrs{not}{}{}
\def\yquant@lang@@not{%
   \yquant@prepare%
      {}%
      {/yquant/operators/every not}%
}
% alias to cnot
\let\yquant@lang@cnot=\yquant@lang@not
\yquant@langhelper@setup@attrs{cnot}{}{}

% measure
\yquant@langhelper@declare@command@uncontrolled{measure}\yquant@lang@@measure
\yquant@langhelper@setup@attrs{measure}{}{value,type}
\def\yquant@lang@@measure{%
   \ifdefined\yquant@lang@attr@type%
      \yquant@register@type@fromstring\yquant@lang@attr@type\yquant@circuit@settype@to%
   \else%
      \let\yquant@circuit@settype@to=\yquant@register@type@c%
   \fi%
   \let\yquant@prepare@callback@wire=\yquant@circuit@settype%
   \yquant@prepare@callback@nowtrue%
   \yquant@register@get@allowmultitrue%
   \unless\ifcsname yquant@lang@attr@value\endcsname%
      \let\yquant@lang@attr@value=\empty%
   \fi%
   \expandafter\yquant@prepare%
      \expandafter{\yquant@lang@attr@value}%
      {/yquant/operators/every measure}%
      {}{}%
}

% measure (dmeter)
\yquant@langhelper@declare@command@uncontrolled{dmeter}\yquant@lang@@dmeter
\yquant@langhelper@setup@attrs{dmeter}{}{value,type}
\def\yquant@lang@@dmeter{%
   \ifdefined\yquant@lang@attr@type%
      \yquant@register@type@fromstring\yquant@lang@attr@type\yquant@circuit@settype@to%
   \else%
      \let\yquant@circuit@settype@to=\yquant@register@type@c%
   \fi%
   \let\yquant@prepare@callback@wire=\yquant@circuit@settype%
   \yquant@prepare@callback@nowtrue%
   \yquant@register@get@allowmultitrue%
   \unless\ifcsname yquant@lang@attr@value\endcsname%
      \let\yquant@lang@attr@value=\empty%
   \fi%
   \expandafter\yquant@prepare%
      \expandafter{\yquant@lang@attr@value}%
      {/yquant/operators/every dmeter}%
      {}{}%
}
% END_FOLD

% BEGIN_FOLD miscellaneous
\yquant@langhelper@declare@command@uncontrolled{barrier}\yquant@lang@@barrier
\yquant@langhelper@setup@attrs{barrier}{}{}
\def\yquant@lang@@barrier{%
   \yquant@register@get@allowmultitrue%
   \yquant@prepare%
      {}%
      {/yquant/operators/every barrier}%
      {}{}%
}

\yquant@langhelper@declare@command@uncontrolled{correlate}\yquant@lang@@correlate
\yquant@langhelper@setup@attrs{correlate}{}{}
\def\yquant@lang@@correlate{%
   % do not call \yquant@register@get@multiassingle, we do not want to install a different multi line style!
   \yquant@register@get@allowmultitrue%
   \let\yquant@register@multi@splitparts=\yquant@register@multi@splitparts@sepall%
   \yquant@prepare%
      {}%
      {/yquant/operators/every wave}%
      {}{}%
}

\yquant@langhelper@declare@command@uncontrolled{align}\yquant@lang@@align
\yquant@langhelper@setup@attrs{align}{}{}
\def\yquant@lang@@align#1{%
   \yquant@register@get@ids{#1}%
   \yquant@circuit@align\yquant@register@get@ids@list%
}

\yquant@langhelper@declare@command@uncontrolled{hspace}\yquant@lang@@hspace
\yquant@langhelper@setup@attrs{hspace}{value}{}
\def\yquant@lang@@hspace#1{%
   \yquant@langhelper@validate\amount\dimen\yquant@lang@attr@value%
   \yquant@register@get@ids{#1}%
   \yquant@circuit@hspace\yquant@register@get@ids@list\amount%
}

\yquant@langhelper@declare@command@uncontrolled{discard}\yquant@lang@@discard
\yquant@langhelper@setup@attrs{discard}{}{}
\def\yquant@lang@@discard#1{%
   \yquant@register@get@ids{#1}%
   \let\yquant@circuit@settype@to=\yquant@register@type@none%
   \yquant@circuit@actonwires%
      \yquant@circuit@settype%
      \yquant@register@get@ids@list%
      {}1%
}

\yquant@langhelper@declare@command@uncontrolled{init}\yquant@lang@@init
\yquant@langhelper@setup@attrs{init}{value}{type}
\protected\def\yquant@lang@@init@multi@@extract#1#2#3{%
   \yquant@for \yquant@i := #1 to #2 {%
      \edef\yquant@circuit@settype@to{\yquant@register@get@type\yquant@i}%
      \unless\ifx\yquant@circuit@settype@to\yquant@register@type@none%
         \expandafter\yquant@for@break%
      \fi%
   }%
}

\protected\def\yquant@lang@@init#1{%
   \yquant@register@get@allowmultitrue%
   \yquant@register@get@ids{#1}%
   \ifdefined\yquant@lang@attr@type%
      \yquant@register@type@fromstring\yquant@lang@attr@type\yquant@circuit@settype@to%
   \else%
      % We don't know which type is desired. Scan all target registers and use the first wire that is available as a type.
      \let\yquant@circuit@settype@to=\yquant@register@type@none%
      \def\do##1{%
         \ifyquant@firsttoken\yquant@register@multi{##1}{%
            \let\yquant@register@multi@contiguous=\yquant@lang@@init@multi@@extract%
            \@fifthoffive##1%
            % we should reset multi@contiguous to the original command; but this is really just a placeholder. As long as it is \protected, everything is fine.
         }{%
            \edef\yquant@circuit@settype@to{\yquant@register@get@type{##1}}%
         }%
         \unless\ifx\yquant@circuit@settype@to\yquant@register@type@none%
            \expandafter\listbreak%
         \fi%
      }%
      \dolistloop\yquant@register@get@ids@list%
      \ifx\yquant@circuit@settype@to\yquant@register@type@none%
         % now we don't have a clue; assume it's a qubit
         \let\yquant@circuit@settype@to=\yquant@register@type@q%
      \fi%
      \edef\yquant@lang@attr@type{%
         \yquant@register@type@tostring\yquant@circuit@settype@to%
      }%
   \fi%
   \let\yquant@prepare@callback@wire=\yquant@circuit@settype%
   \yquant@prepare@callback@nowtrue%
   \let\yquant@prepare@multi=\yquant@prepare@multiinit%
   \preto\yquant@attrs@remaining{internal/move label,}%
   \expandafter\yquant@prepare%
      \expandafter{\yquant@lang@attr@value}%
      {/yquant/every label, /yquant/every \yquant@lang@attr@type\space label}{}{}{#1}%
}

\yquant@langhelper@declare@command@uncontrolled{output}\yquant@lang@@output
\yquant@langhelper@setup@attrs{output}{value}{}
\def\yquant@lang@@output#1{%
   \yquant@register@get@allowmultitrue%
   \yquant@register@get@ids{#1}%
   \yquant@circuit@output%
}

\yquant@langhelper@declare@command@uncontrolled{settype}\yquant@lang@@settype
\yquant@langhelper@setup@attrs{settype}{value}{}
\protected\def\yquant@lang@@settype#1{%
   \yquant@register@get@ids{#1}%
   \yquant@register@type@fromstring\yquant@lang@attr@value\yquant@circuit@settype@to%
   \yquant@circuit@actonwires%
      \yquant@circuit@settype%
      \yquant@register@get@ids@list%
      {}1%
}

\ifnum\yquant@compat<2 
   \def\yquant@lang@setwire{%
      \PackageWarning{yquant.sty}{`setwire' gate is deprecated as of yquant 0.1.2. Use `settype' instead.}%
      \yquant@lang@settype%
   }
   \yquant@langhelper@setup@attrs{setwire}{value}{}
\fi

\yquant@langhelper@declare@command@uncontrolled{setstyle}\yquant@lang@@setstyle
\yquant@langhelper@setup@attrs{setstyle}{value}{}
\protected\def\yquant@lang@@setstyle#1{%
   \yquant@register@get@ids{#1}%
   \yquant@circuit@actonwires%
      \yquant@circuit@setstyle%
      \yquant@register@get@ids@list%
      {{\yquant@lang@attr@value}}0%
}

\yquant@langhelper@declare@command@uncontrolled{addstyle}\yquant@lang@@addstyle
\yquant@langhelper@setup@attrs{addstyle}{value}{}
\protected\def\yquant@lang@@addstyle#1{%
   \yquant@register@get@ids{#1}%
   \yquant@circuit@actonwires%
      \yquant@circuit@addstyle%
      \yquant@register@get@ids@list%
      {{\yquant@lang@attr@value}}0%
}
% END_FOLD